<?xml version="1.0" encoding="UTF-8"?>

<?import java.lang.String?>
<?import javafx.collections.FXCollections?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ListView?>
<?import javafx.scene.control.ProgressBar?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.effect.DropShadow?>
<?import javafx.scene.effect.Glow?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.paint.Color?>
<?import javafx.scene.paint.LinearGradient?>
<?import javafx.scene.paint.Stop?>
<?import javafx.scene.shape.Rectangle?>
<?import javafx.scene.text.Font?>

<AnchorPane fx:id="root" onMouseClicked="#loseFocus" prefHeight="750" prefWidth="450" style="-fx-background-color: black;" stylesheets="@../../../styles/LibraryComponents.css" xmlns="http://javafx.com/javafx/25" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.example.simple_music_player.Controller.LibraryController">
    <children>
        <ImageView fitHeight="750.0" fitWidth="450.0" pickOnBounds="true">
            <image>
                <Image url="@../../../Images/ShadedImage.jpg" />
            </image>
        </ImageView>
        <ComboBox fx:id="sortComboBox" layoutX="62.0" layoutY="14.0" prefHeight="26.0" prefWidth="105.0" promptText="Sort" stylesheets="@../../../styles/ComboBox.css">
            <items>
                <FXCollections fx:factory="observableArrayList">
                    <String fx:value="Title" />
                    <String fx:value="Artist" />
                    <String fx:value="Album" />
                    <String fx:value="Length" />
                    <String fx:value="Date Added" />
                </FXCollections>
            </items>
        </ComboBox>
        <!-- Virtualized list for songs -->
        <ListView fx:id="songListView" layoutY="104.0" prefHeight="647.0" prefWidth="168.0" style="             -fx-background-color: transparent; -fx-control-inner-background: transparent;  -fx-control-inner-background-alt: transparent; " styleClass="custom-scroll-pane" stylesheets="@../../../styles/LibraryComponents.css" />
        <TextField fx:id="searchField" layoutX="189.0" layoutY="13.0" prefHeight="27.0" prefWidth="250.0" styleClass="playlist-textfield" stylesheets="@../../../styles/LibraryComponents.css" />
        <Button fx:id="reverseButton" layoutX="62.0" layoutY="56.0" mnemonicParsing="false" prefHeight="18.0" prefWidth="34.0" styleClass="libraryButton" stylesheets="@../../../styles/LibraryComponents.css" text="ðŸ”„" />
        <Button fx:id="directoryButton" layoutX="14.0" layoutY="14.0" mnemonicParsing="false" prefHeight="26.0" prefWidth="34.0" styleClass="libraryButton" stylesheets="@../../../styles/LibraryComponents.css" text="ðŸ“" />
        <Label fx:id="songCountLabel" alignment="CENTER" layoutX="174.0" layoutY="57.0" prefHeight="26.0" prefWidth="262.0" styleClass="title" stylesheets="@../../../styles/components.css" text="521 songs">
         <font>
            <Font name="Chiffon TRIAL SemiBold" size="16.0" />
         </font>
         <effect>
            <Glow level="1.0" />
         </effect></Label>
        <Button fx:id="playlistManagerButton" layoutX="14.0" layoutY="56.0" mnemonicParsing="false" onAction="#openPlaylistManager" prefHeight="6.0" prefWidth="34.0" styleClass="libraryButton" stylesheets="@../../../styles/LibraryComponents.css" text="ðŸŽ¼" />
        <ComboBox fx:id="refreshComboBox" layoutX="115.0" layoutY="55.0" prefHeight="26.0" prefWidth="50.0" promptText="ðŸ› " stylesheets="@../../../styles/ComboBox.css">
            <items>
                <FXCollections fx:factory="observableArrayList">
                    <String fx:value="Update Library" />
                    <String fx:value="Force Refresh" />
                </FXCollections>
            </items>
        </ComboBox>
      <Label fx:id="loadingCountLabel" alignment="CENTER" disable="true" layoutX="51.0" layoutY="338.0" prefHeight="18.0" prefWidth="348.0" text="1/12" visible="false">
         <font>
            <Font name="Times New Roman Bold" size="16.0" />
         </font>
         <effect>
            <Glow level="1.0" />
         </effect>
         <textFill>
            <LinearGradient endX="1.0" endY="1.0">
               <stops>
                  <Stop>
                     <color>
                        <Color red="1.0" green="1.0" blue="1.0" />
                     </color>
                  </Stop>
                  <Stop offset="1.0">
                     <color>
                        <Color red="0.2947368323802948" green="0.2947368323802948" blue="0.2947368323802948" />
                     </color>
                  </Stop>
               </stops>
            </LinearGradient>
         </textFill>
      </Label>
        <ProgressBar fx:id="loadingProgressBar" disable="true" layoutX="51.0" layoutY="366.0" prefHeight="18.0" prefWidth="348.0" progress="0.0" stylesheets="@../../../styles/LibraryComponents.css" visible="false" />
      <Label fx:id="loadingLabel" alignment="CENTER" disable="true" layoutX="51.0" layoutY="401.0" prefHeight="18.0" prefWidth="348.0" text="Sorry for not making the refresh optimized. Loading Directory..." textFill="WHITE" visible="false">
         <font>
            <Font name="Garamond" size="12.0" />
         </font>
         <effect>
            <Glow level="1.0" />
         </effect>
      </Label>
      <Rectangle arcHeight="5.0" arcWidth="10.0" fill="#1f75ff00" height="654.0" layoutX="185.0" layoutY="92.0" stroke="BLACK" strokeType="INSIDE" strokeWidth="5.0" width="262.0">
         <effect>
            <DropShadow offsetX="-4.0" offsetY="-4.0" spread="0.28" />
         </effect>
      </Rectangle>
      <StackPane layoutX="191.0" layoutY="98.0" prefHeight="635.0" prefWidth="250.0">
         <children>
            <ImageView fx:id="customImageView" fitHeight="575.0" fitWidth="241.0" onMouseClicked="#customImageToggler" preserveRatio="true" styleClass="custom-image-view" />
         </children>
      </StackPane>
    </children>
</AnchorPane>
